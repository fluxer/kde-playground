ALTER TABLE SchemaVersionTable ADD COLUMN version INTEGER NOT NULL DEFAULT 0

ALTER TABLE ResourceTable ADD COLUMN id BIGINT NOT NULL AUTO_INCREMENT PRIMARY KEY

ALTER TABLE ResourceTable ADD COLUMN name VARBINARY(255) NOT NULL UNIQUE

ALTER TABLE ResourceTable ADD COLUMN isVirtual BOOL DEFAULT false

ALTER TABLE CollectionTable ADD COLUMN id BIGINT NOT NULL AUTO_INCREMENT PRIMARY KEY

ALTER TABLE CollectionTable ADD COLUMN remoteId VARBINARY(255)

ALTER TABLE CollectionTable ADD COLUMN remoteRevision VARBINARY(255)

ALTER TABLE CollectionTable ADD COLUMN name VARBINARY(255) NOT NULL

ALTER TABLE CollectionTable ADD COLUMN parentId BIGINT

ALTER TABLE CollectionTable ADD COLUMN resourceId BIGINT NOT NULL

ALTER TABLE CollectionTable ADD COLUMN subscribed BOOL NOT NULL DEFAULT true

ALTER TABLE CollectionTable ADD COLUMN cachePolicyInherit BOOL NOT NULL DEFAULT true

ALTER TABLE CollectionTable ADD COLUMN cachePolicyCheckInterval INTEGER NOT NULL DEFAULT -1

ALTER TABLE CollectionTable ADD COLUMN cachePolicyCacheTimeout INTEGER NOT NULL DEFAULT -1

ALTER TABLE CollectionTable ADD COLUMN cachePolicySyncOnDemand BOOL NOT NULL DEFAULT false

ALTER TABLE CollectionTable ADD COLUMN cachePolicyLocalParts VARBINARY(255)

ALTER TABLE CollectionTable ADD COLUMN queryString VARBINARY(32768)

ALTER TABLE CollectionTable ADD COLUMN queryLanguage VARBINARY(255)

ALTER TABLE MimeTypeTable ADD COLUMN id BIGINT NOT NULL AUTO_INCREMENT PRIMARY KEY

ALTER TABLE MimeTypeTable ADD COLUMN name VARBINARY(255) NOT NULL UNIQUE

ALTER TABLE PimItemTable ADD COLUMN id BIGINT NOT NULL AUTO_INCREMENT PRIMARY KEY

ALTER TABLE PimItemTable ADD COLUMN rev INTEGER NOT NULL DEFAULT 0

ALTER TABLE PimItemTable ADD COLUMN remoteId VARBINARY(255)

ALTER TABLE PimItemTable ADD COLUMN remoteRevision VARBINARY(255)

ALTER TABLE PimItemTable ADD COLUMN collectionId BIGINT

ALTER TABLE PimItemTable ADD COLUMN mimeTypeId BIGINT

ALTER TABLE PimItemTable ADD COLUMN datetime TIMESTAMP DEFAULT CURRENT_TIMESTAMP

ALTER TABLE PimItemTable ADD COLUMN atime TIMESTAMP

ALTER TABLE PimItemTable ADD COLUMN dirty BOOL

ALTER TABLE PimItemTable ADD COLUMN size BIGINT NOT NULL DEFAULT 0

ALTER TABLE FlagTable ADD COLUMN id BIGINT NOT NULL AUTO_INCREMENT PRIMARY KEY

ALTER TABLE FlagTable ADD COLUMN name VARBINARY(255) NOT NULL UNIQUE

ALTER TABLE PartTable ADD COLUMN id BIGINT NOT NULL AUTO_INCREMENT PRIMARY KEY

ALTER TABLE PartTable ADD COLUMN pimItemId BIGINT NOT NULL

ALTER TABLE PartTable ADD COLUMN name VARBINARY(255) NOT NULL

ALTER TABLE PartTable ADD COLUMN data LONGBLOB

ALTER TABLE PartTable ADD COLUMN datasize BIGINT NOT NULL

ALTER TABLE PartTable ADD COLUMN version INTEGER DEFAULT 0

ALTER TABLE PartTable ADD COLUMN external BOOL DEFAULT false

ALTER TABLE CollectionAttributeTable ADD COLUMN id BIGINT NOT NULL AUTO_INCREMENT PRIMARY KEY

ALTER TABLE CollectionAttributeTable ADD COLUMN collectionId BIGINT NOT NULL

ALTER TABLE CollectionAttributeTable ADD COLUMN type LONGBLOB NOT NULL

ALTER TABLE CollectionAttributeTable ADD COLUMN value LONGBLOB

ALTER TABLE PimItemFlagRelation ADD COLUMN PimItem_id BIGINT NOT NULL

ALTER TABLE PimItemFlagRelation ADD COLUMN Flag_id BIGINT NOT NULL

ALTER TABLE CollectionMimeTypeRelation ADD COLUMN Collection_id BIGINT NOT NULL

ALTER TABLE CollectionMimeTypeRelation ADD COLUMN MimeType_id BIGINT NOT NULL

ALTER TABLE CollectionPimItemRelation ADD COLUMN Collection_id BIGINT NOT NULL

ALTER TABLE CollectionPimItemRelation ADD COLUMN PimItem_id BIGINT NOT NULL

ALTER TABLE PimItemTable DROP FOREIGN KEY myForeignKeyIdentifier

ALTER TABLE CollectionAttributeTable DROP FOREIGN KEY myForeignKeyIdentifier

ALTER TABLE CollectionTable ADD FOREIGN KEY (parentId) REFERENCES CollectionTable(id) ON UPDATE CASCADE ON DELETE CASCADE

ALTER TABLE CollectionTable ADD FOREIGN KEY (resourceId) REFERENCES ResourceTable(id) ON UPDATE CASCADE ON DELETE CASCADE

ALTER TABLE PimItemTable ADD FOREIGN KEY (collectionId) REFERENCES CollectionTable(id) ON UPDATE CASCADE ON DELETE CASCADE

ALTER TABLE PimItemTable ADD FOREIGN KEY (mimeTypeId) REFERENCES MimeTypeTable(id) ON UPDATE CASCADE ON DELETE RESTRICT

ALTER TABLE PartTable ADD FOREIGN KEY (pimItemId) REFERENCES PimItemTable(id) ON UPDATE CASCADE ON DELETE CASCADE

ALTER TABLE CollectionAttributeTable ADD FOREIGN KEY (collectionId) REFERENCES CollectionTable(id) ON UPDATE CASCADE ON DELETE CASCADE

ALTER TABLE PimItemFlagRelation ADD FOREIGN KEY (PimItem_id) REFERENCES PimItemTable(id) ON UPDATE CASCADE ON DELETE CASCADE

ALTER TABLE PimItemFlagRelation ADD FOREIGN KEY (Flag_id) REFERENCES FlagTable(id) ON UPDATE CASCADE ON DELETE CASCADE

ALTER TABLE CollectionMimeTypeRelation ADD FOREIGN KEY (Collection_id) REFERENCES CollectionTable(id) ON UPDATE CASCADE ON DELETE CASCADE

ALTER TABLE CollectionMimeTypeRelation ADD FOREIGN KEY (MimeType_id) REFERENCES MimeTypeTable(id) ON UPDATE CASCADE ON DELETE CASCADE

ALTER TABLE CollectionPimItemRelation ADD FOREIGN KEY (Collection_id) REFERENCES CollectionTable(id) ON UPDATE CASCADE ON DELETE CASCADE

ALTER TABLE CollectionPimItemRelation ADD FOREIGN KEY (PimItem_id) REFERENCES PimItemTable(id) ON UPDATE CASCADE ON DELETE CASCADE
